{"file":"uc-stock-finder.entry.esm.js","mappings":";;;AAAA,MAAM,cAAc,GAAG,y1BAAy1B;;MCQn2B,WAAW;;;;yBAGuC,EAAE;mBAC5C,KAAK;;EAIxB,YAAY,CAAC,KAAY;IACvB,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;IAC5C,KAAK,CAAC,qEAAqE,SAAS,WAAW,UAAU,EAAE,CAAC;OACzG,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC;OACvB,IAAI,CAAC,SAAS;MACb,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,KAAK;QACrD,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC;OAC/D,CAAC,CAAC;MACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACtB,CAAC;OACD,KAAK,CAAC,GAAG;MACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;MACrB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAClB,CAAC,CAAC;GACN;EAED,cAAc,CAAC,MAAc;IAC3B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACpC;EAED,MAAM;IACJ,IAAI,OAAO,IACT,cACG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,KAC5B,UAAI,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IACxD,kBAAS,MAAM,CAAC,MAAM,CAAU,SAAI,MAAM,CAAC,IAAI,CAC5C,CACN,CAAC,CACC,CACN,CAAC;IACF,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,OAAO,GAAG,qBAAa,CAAC;KACzB;IACD,OAAO;MACL,YAAM,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAC1C,aAAO,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,EAAE,EAAE,EAAC,cAAc,GAAG,EAClE,cAAQ,IAAI,EAAC,QAAQ,YAAe,CAC/B;MAEP,OAAO;KACR,CAAC;GACH;;;;;;","names":[],"sources":["./src/components/stock-finder/stock-finder.css?tag=uc-stock-finder&encapsulation=shadow","./src/components/stock-finder/stock-finder.tsx"],"sourcesContent":[":host {\r\n    font-family: sans-serif;\r\n    border: 2px solid var(--color-primary, black);\r\n    margin: 2rem;\r\n    padding: 1rem;\r\n    display: block;\r\n    width: 20rem;\r\n    max-width: 100%;\r\n}\r\n\r\nform input {\r\n    font: inherit;\r\n    color: #3b013b;\r\n    padding: 0.1rem 0.25rem;\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n}\r\n\r\nform input:focus,\r\nform button:focus{\r\n    outline: none;\r\n}\r\n\r\nform button {\r\n    font: inherit;\r\n    padding: 0.25rem 0.5rem;\r\n    border: 1px solid var(--color-primary, black);\r\n    background: var(--color-primary, black);\r\n    color: var(--color-primary-inverse, white);\r\n    cursor: pointer;\r\n}\r\n\r\nform button:hover,\r\nform button:active{\r\n    background: var(--color-primary-highlight, grey);\r\n    border-color: var(--color-primary-highlight, grey);\r\n}\r\n\r\nform button:disabled {\r\n    background: #ccc;\r\n    border-color: #ccc;\r\n    color: white;\r\n    cursor: not-allowed;\r\n}\r\n\r\nul{\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n}\r\n\r\nli {\r\n    margin: 0.25rem 0;\r\n    padding: 0.25rem;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n}\r\n\r\nli:hover,\r\nli:active{\r\n    background: #3b013b;\r\n    color: white;\r\n}","import { Component, State, h, Event, EventEmitter } from '@stencil/core';\r\nimport { AV_API_KEY } from '../../global/global';\r\n\r\n@Component({\r\n  tag: 'uc-stock-finder',\r\n  styleUrl: './stock-finder.css',\r\n  shadow: true,\r\n})\r\nexport class StockFinder {\r\n  stockNameInput: HTMLInputElement;\r\n\r\n  @State() searchResults: { symbol: string; name: string }[] = [];\r\n  @State() loading = false;\r\n\r\n  @Event({ bubbles: true, composed: true }) ucSymbolSelected: EventEmitter<string>;\r\n\r\n  onFindStocks(event: Event) {\r\n    event.preventDefault();\r\n    this.loading = true;\r\n    const stockName = this.stockNameInput.value;\r\n    fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockName}&apikey=${AV_API_KEY}`)\r\n      .then(res => res.json())\r\n      .then(parsedRes => {\r\n        this.searchResults = parsedRes['bestMatches'].map(match => {\r\n          return { name: match['2. name'], symbol: match['1. symbol'] };\r\n        });\r\n        this.loading = false;\r\n      })\r\n      .catch(err => {\r\n        this.loading = false;\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  onSelectSymbol(symbol: string) {\r\n    this.ucSymbolSelected.emit(symbol);\r\n  }\r\n\r\n  render() {\r\n    let content = (\r\n      <ul>\r\n        {this.searchResults.map(result => (\r\n          <li onClick={this.onSelectSymbol.bind(this, result.symbol)}>\r\n            <strong>{result.symbol}</strong> - {result.name}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n    if (this.loading) {\r\n      content = <uc-spinner/>;\r\n    }\r\n    return [\r\n      <form onSubmit={this.onFindStocks.bind(this)}>\r\n        <input ref={el => (this.stockNameInput = el)} id=\"stock-symbol\" />\r\n        <button type=\"submit\">Find!</button>\r\n      </form>,\r\n\r\n      content,\r\n    ];\r\n  }\r\n}\r\n"],"version":3}